<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ - Flask –ß–∞—Ç</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="support-container">
        <div class="support-header">
            <h1>üìû –°–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</h1>
            <div class="user-info">
                <span>–í—ã: <strong>{{ username }}</strong></span>
                <div class="header-links">
                    <a href="{{ url_for('chat') }}">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ —á–∞—Ç</a>
                    <a href="{{ url_for('support_tickets_list') }}">–ú–æ–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è</a>
                    <a href="{{ url_for('logout') }}" class="logout-btn">–í—ã–π—Ç–∏</a>
                </div>
            </div>
        </div>

        <div class="support-main">
            <div class="support-info">
                <h2>–û–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</h2>
                <p>–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É, –∏ –º—ã –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –ø–æ–º–æ—á—å –≤–∞–º –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ.</p>
                
                {% if success %}
                <div class="success-message">{{ success }}</div>
                {% endif %}
            </div>

            <form method="POST" class="support-form">
                <div class="form-group">
                    <label for="issue_type">–¢–∏–ø –ø—Ä–æ–±–ª–µ–º—ã:</label>
                    <select id="issue_type" name="issue_type" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–æ–±–ª–µ–º—ã</option>
                        <option value="technical">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞</option>
                        <option value="bug">–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ</option>
                        <option value="feature">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é</option>
                        <option value="account">–ü—Ä–æ–±–ª–µ–º–∞ —Å –∞–∫–∫–∞—É–Ω—Ç–æ–º</option>
                        <option value="other">–î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="priority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</label>
                    <select id="priority" name="priority" required>
                        <option value="low">–ù–∏–∑–∫–∏–π</option>
                        <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                        <option value="critical">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="title">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <input type="text" id="title" name="title" required 
                           placeholder="–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É" maxlength="100">
                </div>

                <div class="form-group">
                    <label for="description">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <textarea id="description" name="description" required 
                              placeholder="–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–æ..." 
                              rows="6" maxlength="1000"></textarea>
                    <small>–û—Å—Ç–∞–ª–æ—Å—å —Å–∏–º–≤–æ–ª–æ–≤: <span id="char-count">1000</span></small>
                </div>

                <button type="submit" class="btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ</button>
            </form>

            <div class="support-features">
                <div class="feature-card">
                    <h3>‚ö° –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç</h3>
                    <p>–ú—ã –æ—Ç–≤–µ—á–∞–µ–º –Ω–∞ –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤</p>
                </div>
                <div class="feature-card">
                    <h3>üîí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</h3>
                    <p>–í—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º</p>
                </div>
                <div class="feature-card">
                    <h3>üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                    <p>–ü–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const description = document.getElementById('description');
        const charCount = document.getElementById('char-count');
        
        description.addEventListener('input', function() {
            const remaining = 1000 - this.value.length;
            charCount.textContent = remaining;
            
            if (remaining < 50) {
                charCount.style.color = '#dc3545';
            } else if (remaining < 100) {
                charCount.style.color = '#ffc107';
            } else {
                charCount.style.color = '#28a745';
            }
        });
    </script>
</body>
</html>
